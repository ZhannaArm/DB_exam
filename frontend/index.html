<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Music API UI</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
  <div id="app">
    <header>
      <h1>üéµ Music API Dashboard</h1>
      <nav>
        <button :class="{ active: activeTab === 'artists' }" @click="switchTab('artists')">–ê—Ä—Ç–∏—Å—Ç—ã</button>
        <button :class="{ active: activeTab === 'albums' }" @click="switchTab('albums')">–ê–ª—å–±–æ–º—ã</button>
        <button :class="{ active: activeTab === 'tracks' }" @click="switchTab('tracks')">–¢—Ä–µ–∫–∏</button>
      </nav>
    </header>

    <main>
      <section v-if="activeTab === 'artists'">
        <div class="section-header">
          <h2>–ê—Ä—Ç–∏—Å—Ç—ã</h2>
          <button class="btn-primary" @click="showArtistForm = true">+ –î–æ–±–∞–≤–∏—Ç—å –∞—Ä—Ç–∏—Å—Ç–∞</button>
        </div>
        <div class="card-grid">
          <div v-for="artist in artists" :key="artist.artist_id" class="card">
            <h3>{{ artist.name }}</h3>
            <p>–ñ–∞–Ω—Ä: {{ artist.genre }}</p>
            <p>–ì–æ–¥ –¥–µ–±—é—Ç–∞: {{ artist.debut_year }}</p>
            <p>–°—Ç—Ä–∞–Ω–∞: {{ artist.country }}</p>
            <div class="card-actions">
              <button class="btn-secondary" @click="editArtist(artist)">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
              <button class="btn-danger" @click="deleteArtist(artist.artist_id)">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
          </div>
        </div>
      </section>

      <section v-if="activeTab === 'albums'">
        <div class="section-header">
          <h2>–ê–ª—å–±–æ–º—ã</h2>
          <button class="btn-primary" @click="showAlbumForm = true">+ –î–æ–±–∞–≤–∏—Ç—å –∞–ª—å–±–æ–º</button>
        </div>
        <div class="card-grid">
          <div v-for="album in albums" :key="album.album_id" class="card">
            <h3>{{ album.title }}</h3>
            <p>–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞: {{ album.release_year }}</p>
            <p>–ê—Ä—Ç–∏—Å—Ç: {{ getArtistName(album.artist_id) }}</p>
            <div class="card-actions">
              <button class="btn-secondary" @click="editAlbum(album)">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
              <button class="btn-danger" @click="deleteAlbum(album.album_id)">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
          </div>
        </div>
      </section>

      <section v-if="activeTab === 'tracks'">
        <div class="section-header">
          <h2>–¢—Ä–µ–∫–∏</h2>
          <button class="btn-primary" @click="showTrackForm = true">+ –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–∫</button>
        </div>
        <div class="card-grid">
          <div v-for="track in tracks" :key="track.track_id" class="card">
            <h3>{{ track.title }}</h3>
            <p>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: {{ track.duration }} —Å–µ–∫</p>
            <p>–ê—Ä—Ç–∏—Å—Ç: {{ getArtistName(track.artist_id) }}</p>
            <div class="card-actions">
              <button class="btn-secondary" @click="editTrack(track)">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
              <button class="btn-danger" @click="deleteTrack(track.track_id)">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
          </div>
        </div>
      </section>

      <div class="pagination">
        <button @click="prevPage" :disabled="currentPage === 1">‚¨Ö –ü—Ä–µ–¥—ã–¥—É—â–∞—è</button>
        <span>–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ currentPage }} –∏–∑ {{ totalPages }}</span>
        <button @click="nextPage" :disabled="currentPage === totalPages">–°–ª–µ–¥—É—é—â–∞—è ‚û°</button>
      </div>
    </main>

    <div v-if="showArtistForm || showAlbumForm || showTrackForm" class="modal">
      <form @submit.prevent="saveEntity">
        <h2>{{ formTitle }}</h2>
        <div class="form-content">
          <div v-if="showArtistForm">
            <label>–ò–º—è*: <input v-model="formData.name" required /></label>
            <label>–ñ–∞–Ω—Ä*: <input v-model="formData.genre" required /></label>
            <label>–°—Ç—Ä–∞–Ω–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input v-model="formData.country" /></label>
            <label>–ì–æ–¥ –¥–µ–±—é—Ç–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input type="number" v-model="formData.debut_year" /></label>
            <div class="form-group">
              <label>–ë–∏–æ–≥—Ä–∞—Ñ–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): </label>
              <textarea v-model="formData.biography"></textarea>
            </div>
            <label>–í–µ–±-—Å–∞–π—Ç (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input type="url" v-model="formData.website" /></label>
          </div>

          <div v-if="showAlbumForm">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ*: <input v-model="formData.title" required /></label>
            <label>–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input type="number" v-model="formData.release_year" /></label>
            <label>–õ–µ–π–±–ª (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input v-model="formData.record_label" /></label>
            <label>–ñ–∞–Ω—Ä (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input v-model="formData.genre" /></label>
            <label>–Ø–∑—ã–∫ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input v-model="formData.language" /></label>
            <label>ID –∞—Ä—Ç–∏—Å—Ç–∞*: <input v-model="formData.artist_id" required /></label>
          </div>

          <div v-if="showTrackForm">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ*: <input v-model="formData.title" required /></label>
            <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)*: <input type="number" v-model="formData.duration" required /></label>
            <div class="form-group">
              <label>–¢–µ–∫—Å—Ç –ø–µ—Å–Ω–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): </label>
              <textarea v-model="formData.lyrics"></textarea>
            </div>
            <label>–ü—Ä–æ—Å–º–æ—Ç—Ä—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input type="number" v-model="formData.play_count" /></label>
            <label>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input v-model="formData.mood" /></label>

            <label>–†–µ–π—Ç–∏–Ω–≥ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input type="number" v-model="formData.rating" /></label>
            <label>–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input v-model="formData.instruments" /></label>

            <label>ID –∞—Ä—Ç–∏—Å—Ç–∞*: <input v-model="formData.artist_id" required /></label>
            <label>ID –∞–ª—å–±–æ–º–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): <input v-model="formData.album_id" /></label>
          </div>
        </div>

        <div class="modal-actions">
          <button class="btn-primary" type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <button class="btn-secondary" type="button" @click="closeForm">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
